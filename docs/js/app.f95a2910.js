(function(e){function t(t){for(var a,o,l=t[0],r=t[1],u=t[2],d=0,c=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&c.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);p&&p(t);while(c.length)c.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},i={app:0},s=[];function l(e){return r.p+"js/"+({"rpl-card-promotion":"rpl-card-promotion"}[e]||e)+"."+{"chunk-2d0ab6ca":"df0f5ccd","chunk-2d0ae5a4":"2bd0700a","rpl-card-promotion":"cd19184a"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n={"rpl-card-promotion":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({"rpl-card-promotion":"rpl-card-promotion"}[e]||e)+"."+{"chunk-2d0ab6ca":"31d6cfe0","chunk-2d0ae5a4":"31d6cfe0","rpl-card-promotion":"febf572f"}[e]+".css",i=r.p+a,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var u=s[l],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===i))return t()}var c=document.getElementsByTagName("style");for(l=0;l<c.length;l++){u=c[l],d=u.getAttribute("data-href");if(d===a||d===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete o[e],p.parentNode.removeChild(p),n(s)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){o[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=s);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=l(e);var c=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",c.name="ChunkLoadError",c.type=a,c.request=o,n[1](c)}i[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var p=d;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0aff":function(e,t,n){"use strict";n("858a")},1:function(e,t){},2:function(e,t){},"21bb":function(e,t,n){"use strict";n("2dad")},"2dad":function(e,t,n){},3:function(e,t){},3318:function(e,t,n){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6b","./en-gb.js":"39a6b","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="4678"},"4e7f":function(e,t,n){var a=n("ded3").default,o=n("c973").default,i=n("278c").default,s=n("448a").default,l=n("7037").default,r=n("6374").default,u=n("9523").default,d=n("970b").default,c=n("5bc3").default;n("96cf"),n("159b"),n("b64b"),n("a4d3"),n("e01a"),n("4e82"),n("4de4"),n("d3b7"),n("ddb0"),n("4fad"),n("d81d"),n("25f0"),n("b0c0"),n("c740"),n("99af"),n("ac1f"),n("5319");var p=n("5a0c");e.exports=function(){"use strict";function e(t,n,a){if(d(this,e),this.config=t,this.searchClient=n,this.envConfig=a,this.defaults={EnvironmentSiteId:"4",ExposedFilterKeywordLabel:"Search by keyword",ExposedFilterKeywordPlaceholder:"Enter keywords",ExposedFilterSubmitLabel:"Filter results",ExposedFilterClearFormLabel:"Clear search filters",ExposedControlSortModel:"sort",ExposedControlSortLabel:"Sort",ExposedControlSortPlaceholder:"Select a value",ExposedControlItemsPerPageModel:"items_per_page",ExposedControlItemsPerPageLabel:"Items per page",ExposedControlItemsPerPagePlaceholder:"Select a value",ExposedControlPaginationModel:"page",ExposedFilterKeywordModel:"q",ExposedFilterKeywordType:"phrase_prefix",ExposedFilterKeywordDefaultFields:["title","body","summary_processed","field_landing_page_summary","field_paragraph_summary","field_page_intro_text","field_paragraph_body"],DisplayResultComponentCardStyle:"noImage",DisplayResultComponentColumns:{m:6,l:4,xxxl:3},DisplayPaginationComponentColumns:{m:6,l:4,xxxl:3},ItemsToLoad:10},!this.searchClient)throw Error("Content Collection Error: A search client function is required.");if(!this.envConfig){console.warn("Content Collection Error: Environmental variables are required. Falling back to default.");var o=this.getDefault("EnvironmentSiteId");this.envConfig={siteId:o,primarySiteId:o,domains:u({},o,"")}}}return c(e,[{key:"getLocalDomainURL",value:function(e,t,n,a){var o="",i="";if(e&&e.length>0){var s,l={},u=r(e);try{for(u.s();!(s=u.n()).done;){var d=s.value,c=d.substring(d.indexOf("-")+1,d.indexOf("/",2)),p=d.substring(d.indexOf("/",2));l[c]=p}}catch(f){u.e(f)}finally{u.f()}t in l?(o=a[t],i=l[t]):(o=a[n],i="//"+o+l[n])}return{domain:o,path:i}}},{key:"getLocalisedLink",value:function(e){var t=null;if((null===e||void 0===e?void 0:e.length)>0){var n=this.envConfig;t=n.siteId&&n.primarySiteId&&n.domains?this.getLocalDomainURL(e,n.siteId,n.primarySiteId,n.domains).path:e[0]}return t}},{key:"cloneObject",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"stripEmptyArray",value:function(e){var t=this;Object.keys(e).forEach((function(n){Array.isArray(e[n])?0===e[n].length&&delete e[n]:"object"===l(e[n])&&t.stripEmptyArray(e[n])}))}},{key:"getNewValue",value:function(e){return Array.isArray(e)?s(e):e}},{key:"syncObject",value:function(e,t,n){var a=this;Object.keys(e).forEach((function(o){var i=!n||n.indexOf(o)>=0;i&&(t[o]=a.getNewValue(e[o]))}))}},{key:"getDefault",value:function(e){return this.defaults[e]}},{key:"getStateValue",value:function(e,t){return null===e||void 0===e?void 0:e[this.getDefault(t)]}},{key:"getTitle",value:function(){return this.config.title}},{key:"getDescription",value:function(){return this.config.description}},{key:"getCTA",value:function(){return this.config.callToAction}},{key:"getDisplayType",value:function(){var e,t,n;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n?void 0:n.type}},{key:"getInternalSort",value:function(){var e,t;return null===(e=this.config)||void 0===e||null===(t=e.internal)||void 0===t?void 0:t.sort}},{key:"getInternalItemsToLoad",value:function(){var e,t;return null===(e=this.config)||void 0===e||null===(t=e.internal)||void 0===t?void 0:t.itemsToLoad}},{key:"getDisplayResultCountText",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.resultsCountText}},{key:"getDisplayLoadingText",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.loadingText}},{key:"getDisplayNoResultsText",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.noResultsText}},{key:"getDisplayErrorText",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.errorText}},{key:"getDisplaySort",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.sort}},{key:"getDisplayItemsToLoad",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.itemsToLoad}},{key:"getDisplayResultComponent",value:function(){var e,t,n;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n?void 0:n.resultComponent}},{key:"getDisplayResultComponentType",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.resultComponent)||void 0===a?void 0:a.type}},{key:"getDisplayPagination",value:function(){var e,t,n,a;return null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.display)||void 0===n||null===(a=n.options)||void 0===a?void 0:a.pagination}},{key:"getDisplayResultComponentName",value:function(){var e=null;switch(this.getDisplayResultComponentType()){case"card":default:e="rpl-card-promo";break}return e}},{key:"getDisplayResultComponentColumns",value:function(){var e=null;switch(this.getDisplayResultComponentType()){case"card":e=this.getDefault("DisplayResultComponentColumns");break}return e}},{key:"getSortModelName",value:function(){return this.getDefault("ExposedControlSortModel")}},{key:"getItemsPerPageModelName",value:function(){return this.getDefault("ExposedControlItemsPerPageModel")}},{key:"getPaginationModelName",value:function(){return this.getDefault("ExposedControlPaginationModel")}},{key:"getDisplayPaginationComponentColumns",value:function(){return this.getDefault("DisplayPaginationComponentColumns")}},{key:"getDisplayPaginationData",value:function(){var e=null,t=this.getDisplayPagination();if(t)switch(t.type){case"numbers":e={totalSteps:0,initialStep:1,stepsAround:2};break}return e}},{key:"getDSL",value:function(e){var t,n,a,o=null;return null!==(t=this.config)&&void 0!==t&&null!==(n=t.internal)&&void 0!==n&&n.custom?o=this.config.internal.custom:null!==(a=this.config)&&void 0!==a&&a.internal&&(o=this.getSimpleDSL(e)),o}},{key:"getSimpleDSL",value:function(e){var t,n=this.envConfig.siteId,a=this.getSimpleDSLContentIds(),o=this.getSimpleDSLContentTypes(),i=this.getSimpleDSLContentFields(),l=this.getSimpleDSLDateRange(),r=this.getSimpleDSLSort(e),d=this.getSimpleDSLExposedKeyword(e),c=this.getSimpleDSLExposedAdvancedFilters(e),p={query:{bool:{must:[],filter:[],must_not:[]}},sort:[],aggs:[]};(d&&p.query.bool.must.push(d),c)&&((t=p.query.bool.filter).push.apply(t,s(c.filters)),c.aggs&&(p.aggs=c.aggs));return n&&p.query.bool.filter.push({terms:{field_node_site:[n]}}),a&&p.query.bool.filter.push({terms:a}),o&&p.query.bool.filter.push({terms:o}),i.length>0&&i.forEach((function(e){p.query.bool.filter.push({terms:u({},e.fieldName,e.fieldConfig.values)})})),l.length>0&&l.forEach((function(e){p.query.bool.filter.push(e)})),r.length>0&&(p.sort=r),this.stripEmptyArray(p),p}},{key:"getSimpleDSLExposedKeyword",value:function(e){var t,n,a=null,o=null===(t=this.config)||void 0===t||null===(n=t.interface)||void 0===n?void 0:n.keyword;if("basic"===(null===o||void 0===o?void 0:o.type)){var i=this.getStateValue(e,"ExposedFilterKeywordModel");i&&(a={multi_match:{query:i,type:this.getDefault("ExposedFilterKeywordType"),fields:o.fields||this.getDefault("ExposedFilterKeywordDefaultFields")}})}return a}},{key:"getSimpleDSLExposedAdvancedFilters",value:function(e){var t,n,a,o=null,i=null===(t=this.config)||void 0===t||null===(n=t.interface)||void 0===n||null===(a=n.filters)||void 0===a?void 0:a.fields;if(i){var s=[],l=null;i.forEach((function(t){var n=t.options.model,a=e[n];Array.isArray(a)?a.length>0&&s.push({terms:u({},n,a)}):a&&s.push({terms:u({},n,[a])}),t["elasticsearch-aggregation"]&&(l||(l={}),l[n]={terms:{field:n,order:{_key:"asc"},size:30}})})),o={filters:s,aggs:l}}return o}},{key:"getSimpleDSLContentIds",value:function(){var e,t=null;return null!==(e=this.config.internal)&&void 0!==e&&e.contentIds&&!this.config.internal.contentIds.some(isNaN)&&(t={nid:this.config.internal.contentIds}),t}},{key:"getSimpleDSLContentTypes",value:function(){var e,t=null;return null!==(e=this.config.internal)&&void 0!==e&&e.contentTypes&&(t={type:this.config.internal.contentTypes}),t}},{key:"getSimpleDSLContentFields",value:function(){var e,t=[];if(null!==(e=this.config.internal)&&void 0!==e&&e.contentFields)for(var n=0,a=Object.entries(this.config.internal.contentFields);n<a.length;n++){var o=i(a[n],2),s=o[0],l=o[1];t.push({fieldName:s,fieldConfig:l})}return t}},{key:"getSimpleDSLSort",value:function(e){var t=[],n=null,a=this.getStateValue(e,"ExposedControlSortModel");return n=a?this.getSortValueFromId(a):this.getInternalSort(),n&&(t=n.map((function(e){return u({},e.field,e.direction)}))),t}},{key:"getSimpleDSLDateRange",value:function(){var e,t=[];if(null!==(e=this.config.internal)&&void 0!==e&&e.dateFilter){var n=this.config.internal.dateFilter,a=null,o=null,i=null;switch(n.criteria){case"range":a=n.dateRangeStart,o=n.dateRangeEnd||n.dateRangeStart;break;case"today":i=this.getStartEndDates("day"),a=i.start,o=i.end;break;case"this_week":i=this.getStartEndDates("week"),a=i.start,o=i.end;break;case"this_month":i=this.getStartEndDates("month"),a=i.start,o=i.end;break;default:console.log("Criteria not supported");break}a&&o&&(t.push({range:u({},n.startDateField,{gte:a})}),t.push({range:u({},n.endDateField,{lte:o})}))}return t}},{key:"getStartEndDates",value:function(e){return{start:p().startOf(e).format(),end:p().endOf(e).format()}}},{key:"getExposedFilterForm",value:function(){var e=null,t=[],n={},a=this.getExposedFilterGroups();return a.forEach((function(e){e.models&&e.models.forEach((function(t,a){n[t]=e.values[a]})),t.push(e.group)})),t.length>0&&(e={model:n,schema:{groups:t},formState:{}}),e}},{key:"getExposedFilterGroups",value:function(){var e=[this.getExposedFilterKeywordGroup(),this.getExposedFilterAdvancedFilterGroup(),this.getExposedFilterSubmissionGroup()];return e.filter((function(e){return null!==e}))}},{key:"getExposedFilterKeywordGroup",value:function(){var e,t,n=null,a=null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t?void 0:t.keyword;if(a){var o=this.getDefault("ExposedFilterKeywordModel");n={models:[o],values:[""],group:{fields:[{type:"input",inputType:"text",label:(null===a||void 0===a?void 0:a.label)||this.getDefault("ExposedFilterKeywordLabel"),placeholder:(null===a||void 0===a?void 0:a.placeholder)||this.getDefault("ExposedFilterKeywordPlaceholder"),model:o}]}}}return n}},{key:"getExposedFilterAdvancedFilterGroup",value:function(){var e,t,n,a=this,o=null,i=null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.filters)||void 0===n?void 0:n.fields;if((null===i||void 0===i?void 0:i.length)>0){var s=[],l=[],r=[];i.forEach((function(e){var t=a.getExposedFilterField(e);s.push(t.model),l.push(a.getExposedFilterFieldDefaultValue(e)),t&&r.push(t)})),o={models:s,values:l,group:{styleClasses:["app-content-collection__form-wrap"],fields:r}}}return o}},{key:"getExposedFilterFieldDefaultValue",value:function(e){var t="";return"basic"===e.type&&"rplselect"===e.options.type&&e.options.multiselect&&(t=[]),t}},{key:"getExposedFilterField",value:function(e){var t=null;switch(e.type){case"basic":var n=this.cloneObject(e.options);n.styleClasses=e.additionalClasses,t=n;break}return t}},{key:"getExposedFilterSubmissionGroup",value:function(){var e,t,n,a,o,i,s=null,l=[],r=null===(e=this.config)||void 0===e||null===(t=e.interface)||void 0===t||null===(n=t.filters)||void 0===n?void 0:n.submit;"visible"===(null===r||void 0===r?void 0:r.visibility)&&l.push({type:"rplsubmitloader",buttonText:(null===r||void 0===r?void 0:r.label)||this.getDefault("ExposedFilterSubmitLabel"),loading:!1,autoUpdate:!0,styleClasses:["app-content-collection__form-inline"]});var u=null===(a=this.config)||void 0===a||null===(o=a.interface)||void 0===o||null===(i=o.filters)||void 0===i?void 0:i.clearForm;return"visible"===(null===u||void 0===u?void 0:u.visibility)&&l.push({type:"rplclearform",buttonText:(null===u||void 0===u?void 0:u.label)||this.getDefault("ExposedFilterClearFormLabel"),styleClasses:["app-content-collection__form-inline"]}),l.length>0&&(s={group:{styleClasses:["app-content-collection__form-wrap","app-content-collection__form-wrap-no-gutter"],fields:l}}),s}},{key:"getExposedFilterModelNames",value:function(){var e=[];return this.getExposedFilterGroups().forEach((function(t){t.models&&e.push.apply(e,s(t.models))})),e}},{key:"getExposedControlModelNames",value:function(){return this.getExposedControlFields().map((function(e){return e.model}))}},{key:"getExposedControlFields",value:function(){var e=[this.getExposedSortField(),this.getExposedItemsToLoadField()];return e.filter((function(e){return null!==e}))}},{key:"getExposedControlForm",value:function(){var e=null,t=[],n={},a=this.getExposedControlFields();return a.forEach((function(e){n[e.model]=e.value,t.push(e.field)})),t.length>0&&(t.push({type:"rplsubmitloader",buttonText:"Go",loading:!1,autoUpdate:!0,styleClasses:["app-content-collection__form-inline"]}),e={model:n,schema:{groups:[{styleClasses:["app-content-collection__form-wrap"],fields:t}]},formState:{}}),e}},{key:"getExposedControlValues",value:function(e){var t=null;return e&&(t=e.values.map((function(e){return{id:e.name.toString(),name:e.name,value:e.value}}))),t}},{key:"getExposedSortValues",value:function(){return this.getExposedControlValues(this.getDisplaySort())}},{key:"getExposedItemsToLoadValues",value:function(){return this.getExposedControlValues(this.getDisplayItemsToLoad())}},{key:"getSortValueFromId",value:function(e){var t=null,n=this.getExposedSortValues();if(n){var a=n.findIndex((function(t){return t.id===e}));a>=0&&(t=n[a].value)}return t}},{key:"getExposedFieldDefaultValue",value:function(e){var t="";return e.length>0&&(t=e[0].id),t}},{key:"getExposedSortField",value:function(){var e=null,t=this.getExposedSortValues();return t&&(e={model:this.getSortModelName(),value:this.getExposedFieldDefaultValue(t),field:{type:"rplselect",model:this.getSortModelName(),label:this.getDefault("ExposedControlSortLabel"),placeholder:this.getDefault("ExposedControlSortPlaceholder"),values:t.map((function(e){var t=e.id,n=e.name;return{id:t,name:n}})),styleClasses:["app-content-collection__form-inline"]}}),e}},{key:"getExposedItemsToLoadField",value:function(){var e=null,t=this.getExposedItemsToLoadValues();return t&&(e={model:this.getItemsPerPageModelName(),value:this.getExposedFieldDefaultValue(t),field:{type:"rplselect",model:this.getItemsPerPageModelName(),label:this.getDefault("ExposedControlItemsPerPageLabel"),placeholder:this.getDefault("ExposedControlItemsPerPagePlaceholder"),values:t.map((function(e){var t=e.id,n=e.name;return{id:t,name:n}})),styleClasses:["app-content-collection__form-inline"]}}),e}},{key:"getDefaultState",value:function(){var e={};this.getDisplayPagination()&&(e[this.getPaginationModelName()]=1),e[this.getSortModelName()]=this.getInitialSort(),e[this.getItemsPerPageModelName()]=this.getInitialItemsToLoad();var t=this.getExposedFilterGroups();return t.forEach((function(t){t.models&&t.models.forEach((function(n,a){e[n]=t.values[a]}))})),e}},{key:"getResults",value:function(){var e=o(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a({from:this.getStartingItem(t),size:this.getItemsToLoad(t),_source:[]},this.getDSL(t)),e.next=3,this.searchClient(n);case 3:return o=e.sent,e.abrupt("return",{hits:o.hits.hits.map(this.mapResult.bind(this)),total:o.hits.total,aggregations:o.aggregations});case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mapResult",value:function(e){var t,n,a,o,i,s=null,l=e._source,r=this.getLocalisedLink(l.url);switch(this.getDisplayResultComponentType()){case"card":default:var u=null===(t=this.getDisplayResultComponent())||void 0===t?void 0:t.style;s={title:null===(n=l.title)||void 0===n?void 0:n[0],link:{text:r,url:r},dateStart:null===(a=l.created)||void 0===a?void 0:a[0],summary:null===(o=l.field_landing_page_summary)||void 0===o?void 0:o[0],image:null===(i=l.field_media_image_absolute_path)||void 0===i?void 0:i[0],displayStyle:u||this.getDefault("DisplayResultComponentCardStyle")};break}return s}},{key:"getInitialControlValue",value:function(e,t,n){var a=e;if(t){var o=this.getExposedFieldDefaultValue(n);o&&(a=o)}return a}},{key:"getInitialSort",value:function(){var e=this.getInternalSort();return this.getInitialControlValue(e,this.getDisplaySort(),this.getExposedSortValues())}},{key:"getInitialItemsToLoad",value:function(){var e=this.getInternalItemsToLoad()||this.getDefault("ItemsToLoad");return this.getInitialControlValue(e,this.getDisplayItemsToLoad(),this.getExposedItemsToLoadValues())}},{key:"getItemsToLoad",value:function(e){var t=this.getInitialItemsToLoad(),n=this.getItemsPerPageModelName();return e[n]&&(t=e[n]),t}},{key:"getStartingItem",value:function(e){var t=0,n=e[this.getPaginationModelName()];return n&&(t=(n-1)*this.getItemsToLoad(e)),t}},{key:"getResultCountRange",value:function(e,t){var n=!1;if(t&&t>0){var a=e[this.getPaginationModelName()],o=e[this.getItemsPerPageModelName()],i=a<2?1:o*(a-1)+1,s=o*a,l=s>t?t:s;n="".concat(i,"-").concat(l)}return n}},{key:"getProcessedResultsCount",value:function(e,t){var n=this.getDisplayResultCountText();if(n){var a=this.getResultCountRange(e,t);n=n.replace("{range}",a),n=n.replace("{count}",t)}return n}},{key:"getPaginationTotalSteps",value:function(e,t){return Math.ceil(parseInt(t)/this.getItemsToLoad(e))}}]),e}()},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("841c");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=n("2877"),l={},r=Object(s["a"])(l,o,i,!1,null,null,null),u=r.exports,d=(n("3328"),n("1872")),c=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"controls"},[n("label",[n("span",[e._v("elasticsearch:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.customES,expression:"customES"}],domProps:{value:e.customES},on:{input:function(t){t.target.composing||(e.customES=t.target.value)}}})]),n("label",[n("span",[e._v("Environment:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.customEnvironment,expression:"customEnvironment"}],domProps:{value:e.customEnvironment},on:{input:function(t){t.target.composing||(e.customEnvironment=t.target.value)}}})]),n("label",[n("span",[e._v("Schema:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.customSchema,expression:"customSchema"}],domProps:{value:e.customSchema},on:{input:function(t){t.target.composing||(e.customSchema=t.target.value)}}})]),n("button",{on:{click:e.updateSchema}},[e._v("Update Schema")])]),n("div",{staticClass:"display"},[e.schema?n("content-collection",{key:e.count,attrs:{schema:e.schema,environment:e.environment}}):e._e()],1)])},f=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-content-collection"},[n("div",{staticClass:"app-content-collection__header"},[n("div",{staticClass:"app-content-collection__header-left"},[e.title?n("h2",{staticClass:"app-content-collection__heading"},[e._v(e._s(e.title))]):e._e(),e.description?n("p",[e._v(e._s(e.description))]):e._e()]),n("div",{staticClass:"app-content-collection__header-right"},[e.cta?n("rpl-link",{attrs:{href:e.cta.url}},[e._v(e._s(e.cta.text))]):e._e()],1)]),e.exposedFilterFormData?n("rpl-form",{attrs:{formData:e.exposedFilterFormData,submitHandler:e.exposedFilterFormSubmit}}):e._e(),e.exposedFilterFormData?n("rpl-divider"):e._e(),n("rpl-search-results-layout",{attrs:{searchResults:e.results,errorMsg:e.errorText,noResultsMsg:e.noResultsText,loading:e.resultsLoading},scopedSlots:e._u([e.resultCount?{key:"count",fn:function(){return[e._v(e._s(e.resultCount))]},proxy:!0}:null,{key:"sort",fn:function(){return[e.exposedControlFormData?n("rpl-form",{attrs:{formData:e.exposedControlFormData,submitHandler:e.exposedControlsFormSubmit,listenForClearForm:!1}}):e._e()]},proxy:!0},{key:"loading",fn:function(){return[e._v(e._s(e.loadingText))]},proxy:!0},{key:"results",fn:function(t){return[e._t("results",(function(){return e._l(t.searchResults,(function(t,a){return n("rpl-col",{key:a+"-result",attrs:{colsBp:e.resultColumns}},[n(e.resultComponentName,e._b({tag:"component",staticClass:"app-content-collection__search-result"},"component",t,!1))],1)}))}),{searchResults:t.searchResults})]}},{key:"pagination",fn:function(){return[n("rpl-col",{attrs:{cols:"full",colsBp:e.paginationColumns}},[e.showPagination?n("rpl-pagination",e._b({on:{change:e.paginationChange}},"rpl-pagination",e.paginationData,!1)):e._e()],1)]},proxy:!0}],null,!0)})],1)},m=[],g=n("1da1"),v=(n("159b"),n("b64b"),n("d3b7"),n("ddb0"),n("d81d"),n("99af"),n("5319"),n("96cf"),n("39a6")),y=n("6e67"),b=n("983e"),S=n("8b92"),x=n("d4ec"),k=n("bee2"),_=n("45eb"),C=n("7e84"),j=n("262e"),E=n("2caf"),D=n("4e7f"),F=n.n(D),R=n("5a0c"),T=function(e){Object(j["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(x["a"])(this,n),t.apply(this,arguments)}return Object(k["a"])(n,[{key:"getDisplayResultComponentName",value:function(){var e=null;switch(this.getDisplayResultComponentType()){case"vh-search-result":e="vh-search-result";break;case"search-result":e="rpl-search-result";break;default:e=Object(_["a"])(Object(C["a"])(n.prototype),"getDisplayResultComponentName",this).call(this);break}return e}},{key:"mapResult",value:function(e){var t,a,o,i=null,s=e._source,l=this.getLocalisedLink(s.url);switch(this.getDisplayResultComponentType()){case"vh-search-result":i=this.vhSearchResultMapping(e,l);break;case"search-result":i={title:null===(t=s.title)||void 0===t?void 0:t[0],link:{linkText:l,linkUrl:l},date:null===(a=s.created)||void 0===a?void 0:a[0],description:null===(o=s.field_landing_page_summary)||void 0===o?void 0:o[0]};break;default:i=Object(_["a"])(Object(C["a"])(n.prototype),"mapResult",this).call(this,e);break}return i}},{key:"vhSearchResultMapping",value:function(e,t){var n,a,o,i=null===(n=this.config.interface)||void 0===n||null===(a=n.display)||void 0===a||null===(o=a.resultComponent)||void 0===o?void 0:o.options;return{icon:i.icon?this.getVhSearchResultValue(i.icon,e):null,title:i.title?this.getVhSearchResultValue(i.title,e):null,link:{linkText:t,linkUrl:t},date:i.date?this.getVhSearchResultValue(i.date,e):null,subTop:i.subTop?this.getVhSearchResultValue(i.subTop,e):null,summary:i.summary?this.getVhSearchResultValue(i.summary,e):null,subBottom:i.subBottom?this.getVhSearchResultValue(i.subBottom,e):null}}},{key:"getVhSearchResultValue",value:function(e,t){var n,a,o,i,s=this,l=null;switch(e.type){case"icon":l=e.symbol;break;case"text":l=null===(n=t._source)||void 0===n||null===(a=n[e.field])||void 0===a?void 0:a[0];break;case"date":l=R(null===(o=t._source)||void 0===o||null===(i=o[e.field])||void 0===i?void 0:i[0]).format(e.format);break;case"formatted":var r=e.format;e.fields.forEach((function(e){var n=e.field,a=s.getVhSearchResultValue(e,t);r=r.replace("{".concat(n,"}"),a||"")})),l=r;break}return l}}]),n}(F.a),w=n("e0a2"),P=n("f031"),L=n("0d41"),I={name:"AppContentCollection",mixins:[S["a"]],components:{RplLink:v["a"],RplForm:y["a"],RplCol:b["a"],RplDivider:d["b"],RplSearchResultsLayout:P["b"],RplSearchResult:P["a"],RplCardPromo:L["RplCardPromo"],RplPagination:w["a"]},props:{schema:Object,environment:Object,preloadSearchResponse:Object,sidebar:{type:Boolean,default:!1}},data:function(){var e=this.searchEndpoint.bind(this),t=new T(this.schema,e,this.environment);return{dataManager:t,defaultState:t.getDefaultState(),state:t.getDefaultState(),results:[],resultTotal:null,resultCount:null,resultsLoading:!1,exposedFilterFormData:t.getExposedFilterForm(),exposedControlFormData:t.getExposedControlForm(),exposedControlModels:t.getExposedControlModelNames(),exposedFilterModels:t.getExposedFilterModelNames(),paginationData:t.getDisplayPaginationData()}},computed:{title:function(){return this.dataManager.getTitle()},description:function(){return this.dataManager.getDescription()},cta:function(){return this.dataManager.getCTA()},loadingText:function(){return this.dataManager.getDisplayLoadingText()},noResultsText:function(){return this.dataManager.getDisplayNoResultsText()},errorText:function(){return this.dataManager.getDisplayErrorText()},resultComponentName:function(){return this.dataManager.getDisplayResultComponentName()},resultColumns:function(){return this.dataManager.getDisplayResultComponentColumns()},paginationColumns:function(){return this.dataManager.getDisplayPaginationComponentColumns()},showPagination:function(){return this.paginationData&&this.paginationData.totalSteps>1},paginationModelName:function(){return this.dataManager.getPaginationModelName()}},methods:{searchEndpoint:function(e){return this.$tideSearchApi.searchByPost(e)},getResults:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.resultsLoading=!0,t.next=3,e.dataManager.getResults(e.state);case 3:n=t.sent,e.updatePropertiesBasedOnSearchResponse(n),e.resultsLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},updatePropertiesBasedOnSearchResponse:function(e){this.exposedFilterFormData&&e.aggregations&&this.updateExposedFilterFormAggregations(e.aggregations),this.results=e.hits,this.resultCount=this.dataManager.getProcessedResultsCount(this.state,e.total),this.paginationData&&(this.paginationData.totalSteps=this.dataManager.getPaginationTotalSteps(this.state,e.total))},updateExposedFilterFormAggregations:function(e){var t=this;Object.keys(e).forEach((function(n){t.exposedFilterFormData.schema.groups.forEach((function(o){o.fields.forEach((function(o){if(o.model===n){var i=e[n].buckets;i.length>0?(o.values=i.map((function(e){var t=e.key,n=e.doc_count;return{id:t,name:"".concat(t," (").concat(n,")")}})),a["default"].set(o,"disabled",!1)):(t.state[n]=t.defaultState[n],o.values=t.state[n],a["default"].set(o,"disabled",!0))}}))}))}))},syncTo:function(e,t,n){return this.dataManager.syncObject(e,t,n)},resetPagination:function(){this.state[this.paginationModelName]=1},setPaginationFromState:function(){this.paginationData&&(this.paginationData.initialStep=parseInt(this.state[this.paginationModelName]))},paginationChange:function(e){this.syncTo({page:e},this.state),this.updateQuery()},exposedFilterFormSubmit:function(){this.syncTo(this.exposedFilterFormData.model,this.state),this.resetPagination(),this.updateQuery()},exposedControlsFormSubmit:function(){this.syncTo(this.exposedControlFormData.model,this.state),this.resetPagination(),this.updateQuery()},updateQuery:function(){var e={};this.syncTo(this.state,e),this.$router.replace({query:e})},syncQueryState:function(e){this.syncTo(e,this.state),this.exposedFilterFormData&&this.syncTo(this.state,this.exposedFilterFormData.model,this.exposedFilterModels),this.exposedControlFormData&&this.syncTo(this.state,this.exposedControlFormData.model,this.exposedControlModels),this.setPaginationFromState()}},watch:{$route:function(e,t){this.syncQueryState(e.query),this.getResults()}},created:function(){this.syncQueryState(this.$route.query),this.preloadSearchResponse&&this.updatePropertiesBasedOnSearchResponse(this.preloadSearchResponse)},mounted:function(){this.preloadSearchResponse||this.getResults()}},M=I,A=(n("0aff"),Object(s["a"])(M,h,m,!1,null,null,null)),O=A.exports,N={name:"App",components:{ContentCollection:O},data:function(){return{customES:'{\n  "SEARCH_URL": "elastic.sdp2.sdp.vic.gov.au",\n  "SEARCH_AUTH_USERNAME": "",\n  "SEARCH_AUTH_PASSWORD": "",\n  "SEARCH_INDEX": "elasticsearch_index_nonprod_node",\n  "SEARCH_HASH": "a83890f7a31dea14e1ae83c6f0afacca"\n}',customEnvironment:'{\n  "siteId": "4",\n  "primarySiteId": "4",\n  "domains": { "4": "" }\n}',customSchema:'{\n  "title": "Content Collection",\n  "internal": {\n    "itemsToLoad": 12,\n    "contentTypes": ["news"],\n    "dateFilter": {\n      "criteria": "range",\n      "startDateField": "created",\n      "endDateField": "created",\n      "dateRangeStart": "2021-01-01T00:00:00+10:00",\n      "dateRangeEnd": "2021-01-31T23:59:59+10:00"\n    },\n    "sort": [\n      { "field": "created", "direction": "desc" }\n    ]\n  },\n  "interface": {\n    "display": {\n      "type": "grid",\n      "options": {\n        "pagination": {\n          "type": "numbers"\n        }\n      },\n      "resultComponent": {\n        "type": "card"\n      }\n    }\n  }\n}',environment:null,schema:null,count:0}},methods:{updateSchema:function(){var e=JSON.parse(this.customES);e&&this.$tideSearchApi.setParams(e);var t=JSON.parse(this.customEnvironment);t&&(this.environment=t);var n=JSON.parse(this.customSchema);n&&(this.schema=n),this.count++}},mounted:function(){this.updateSchema()}},V=N,z=(n("21bb"),Object(s["a"])(V,p,f,!1,null,null,null)),H=z.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("content-collection",{attrs:{schema:e.schema,environment:e.environment}})],1)},U=[],B={name:"App",components:{ContentCollection:O},data:function(){return{environment:{siteId:"4",primarySiteId:"4",domains:{4:""}},schema:{title:"Health Alerts",description:"Aliqua commodo mollit enim nulla minim sit ut ullamco ea dolore non consectetur eu laborum. ",callToAction:{text:"View all",url:"/search"},internal:{itemsToLoad:20,contentTypes:["health_alert"],sort:[{field:"created",direction:"desc"}]},interface:{keyword:{type:"basic",label:"Search by keyword",placeholder:"Enter keyword(s)"},filters:{submit:{visibility:"visible",label:"Apply change"},clearForm:{visibility:"visible",label:"Clear search"},fields:[{type:"basic",options:{model:"field_health_status",type:"rplselect",label:"Health alert status",placeholder:"Select an alert status",values:[{id:"active",name:"Active"},{id:"resolved",name:"Resolved"}]},additionalClasses:["app-content-collection__form-col-3"],"elasticsearch-field":"type","elasticsearch-aggregation":!1},{type:"basic",options:{model:"field_health_type",type:"rplselect",label:"Health alert type",placeholder:"Select an alert type",values:[{id:"health-alerts",name:"Alert"},{id:"health-advisories",name:"Advisory"}]},additionalClasses:["app-content-collection__form-col-3"],"elasticsearch-field":"field_health_type","elasticsearch-aggregation":!1}]},display:{type:"grid",options:{resultsCountText:"Displaying {range} of {count} results",loadingText:"Loading",noResultsText:"Sorry! We couldn't find any matches",errorText:"Search isn't working right now, please try again later.",sort:{type:"field",values:[{name:"Relevance",value:null},{name:"Title A-Z",value:[{field:"title.keyword",direction:"asc"}]},{name:"Title Z-A",value:[{field:"title.keyword",direction:"desc"}]},{name:"Newest",value:[{field:"created",direction:"desc"}]},{name:"Oldest",value:[{field:"created",direction:"asc"}]}]},itemsToLoad:{type:"field",values:[{name:"1",value:1},{name:"2",value:2},{name:"5",value:5},{name:"10",value:10},{name:"20",value:20},{name:"50",value:50},{name:"All",value:9999}]},pagination:{type:"numbers"}},resultComponent:{type:"vh-search-result",options:{title:{type:"text",field:"title"},summary:{type:"formatted",fields:[{type:"date",field:"changed",format:"DD MMM YYYY"},{type:"text",field:"field_health_type"},{type:"date",field:"created",format:"DD MMMM YYYY"}],format:"{changed} - Update to <code>{field_health_type}</code> issued {created}"},subBottom:{type:"formatted",fields:[{type:"text",field:"field_health_status"},{type:"text",field:"field_health_type"},{type:"text",field:"field_health_alert_number"}],format:"{field_health_status} | {field_health_type} {field_health_alert_number}"}}}}}}}}},K=B,$=Object(s["a"])(K,q,U,!1,null,null,null),G=$.exports;a["default"].use(c["a"]);var Y=[{path:"/",name:"Home",component:H},{path:"/health-alerts",name:"Health alerts",component:G}],J=new c["a"]({routes:Y}),Q=J,W=n("6760"),X=n.n(W),Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vh-search-result"},[n("rpl-link",{attrs:{href:e.link.linkUrl}},[n("h2",{staticClass:"vh-search-result__heading"},[e._v(e._s(e.title))])]),n("div",{staticClass:"vh-search-result__sub-top"},[e._v(e._s(e.subTop))]),n("div",{staticClass:"vh-search-result__summary",domProps:{innerHTML:e._s(e.summary)}}),n("div",{staticClass:"vh-search-result__sub-bottom"},[e._v(e._s(e.subBottom))]),e.tags?n("ul",{staticClass:"vh-search-result__terms"},e._l(e.tags,(function(e,t){return n("li",{key:t,staticClass:"vh-search-result__term"},[n("rpl-meta-tag",{attrs:{linkText:e.linkText,linkUrl:e.linkUrl}})],1)})),0):e._e()],1)},ee=[],te=n("8989"),ne={name:"VhSearchResult",props:{title:String,link:Object,date:String,summary:String,tags:Array,icon:String,subTop:String,subBottom:String},components:{RplLink:v["e"],RplMetaTag:te["a"]}},ae=ne,oe=(n("6590"),Object(s["a"])(ae,Z,ee,!1,null,null,null)),ie=oe.exports;a["default"].config.productionTip=!1,a["default"].use(d["c"],{}),a["default"].component("vh-search-result",ie);var se={searchByPost:function(e){return X.a.search(e)},setParams:function(e){X.a.setESParams(e)}};a["default"].mixin({beforeCreate:function(){var e=this.$options;e.tideSearchApi?this.$tideSearchApi=e.tideSearchApi:e.parent&&e.parent.$tideSearchApi&&(this.$tideSearchApi=e.parent.$tideSearchApi)}}),new a["default"]({router:Q,tideSearchApi:se,render:function(e){return e(u)}}).$mount("#app")},6590:function(e,t,n){"use strict";n("3318")},6760:function(e,t,n){var a=n("c973").default;n("96cf"),n("99af"),n("4e82"),n("ac1f"),n("841c");var o=n("f94d"),i="",s="",l="",r="",u="";e.exports={setESParams:function(e){i=e.SEARCH_URL,s=e.SEARCH_AUTH_USERNAME,l=e.SEARCH_AUTH_PASSWORD,r=e.SEARCH_INDEX,u=e.SEARCH_HASH},search:function(e){return a(regeneratorRuntime.mark((function t(){var n,a,d,c,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="https://"+u+"."+i,a={host:n,apiVersion:"7.6",httpAuth:"".concat(s,":").concat(l)},d=new o.Client(a),t.prev=3,c={},c.index=void 0===e.index?r:e.index,c.from=e.from,c.size=e.size,c._source=e._source,c.body={query:e.query,sort:e.sort,aggs:e.aggs},t.next=12,d.search(c);case 12:return p=t.sent,t.abrupt("return",p);case 16:return t.prev=16,t.t0=t["catch"](3),console.trace(t.t0.message),t.abrupt("return",null);case 20:case"end":return t.stop()}}),t,null,[[3,16]])})))()}}},"858a":function(e,t,n){}});
//# sourceMappingURL=app.f95a2910.js.map